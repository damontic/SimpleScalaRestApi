pipeline {
    
    agent none

    stages {
        stage("Checkout Code") {
            agent {
                docker { image 'alpine/semver' }
            }
            steps {
                git 'git@github.marchex.com:dmontano/SimpleScalaRestApi.git'
                sh 'ls'
                SSRA_NEXT_ALPHA_TAG = sh (script: 'semver -i prerelease --preid alpha $(git tag | tail -n 1)', returnStdout: true).trim()
                echo "SSRA SSRA_NEXT_ALPHA_TAG: ${SSRA_NEXT_ALPHA_TAG}"
            }
        }
    }
}