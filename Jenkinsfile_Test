pipeline {
    
    agent none

    stages {
        stage("Checkout Code") {
            agent {
                docker { image 'alpine/semver' }
            }
            steps {
                git 'git@github.marchex.com:dmontano/SimpleScalaRestApi.git'
                sh 'ls'
                script {
                    SSRA_LATEST_TAG = sh (script: 'git tag | tail -n 1', returnStdout: true)
                }
                echo "LATES_TAG: ${SSRA_LATEST_TAG}"
                script {
                    SSRA_NEXT_ALPHA_TAG = sh (script: 'semver -i prerelease --preid alpha ${}', returnStdout: true)
                }
                echo "SSRA SSRA_NEXT_ALPHA_TAG: ${SSRA_NEXT_ALPHA_TAG}"
            }
        }
    }
}